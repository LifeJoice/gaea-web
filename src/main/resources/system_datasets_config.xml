<?xml version="1.0" encoding="utf-8"?>
<!--text,value是所有数据集默认必备的字段！尽量小写！部分结果集可以通过前端配置text,value字段而不需要在定义中显示说明。-->
<dataset-definition>
    <!--table标识这个ds的主要表，如果我们只是用来增、编辑的话，就不需要data-sql部分的内容了。-->
    <!--cache-type : auto | none | static-->
    <dataset id="DS_RESOURCE_MANAGEMENT" table="GAEA_SYS_RESOURCES" cache-type="auto" expire-time="1ms|s|min|d">
        <!--bean-ref：即关联的数据源。用该数据源查询。如果为空，即为用系统默认的数据源。-->
        <!--<data-source name="xxx" code="LOCAL_DS" bean-ref="dataSource" />-->
        <!-- data-sql中的CDATA最好别带有空格、换行等。这些会被解析器读取，导致不可预知的错误。-->
        <data-sql>
            <![CDATA[SELECT NAME text,ID value,ORDER_SEQ orderSeq,RESOURCE resource,description description FROM GAEA_SYS_RESOURCES]]>
        </data-sql>
    </dataset>
    <!-- ++++++++++++++++++++++++++++++++++++  权限资源关系复选框  ++++++++++++++++++++++++++++++++++++ -->
    <dataset id="DS_AUTH_RESOURCE" table="GAEA_SYS_AUTHORITIES_RESOURCES" cache-type="auto" expire-time="1ms|s|min|d">
        <data-sql>
            <![CDATA[SELECT res.id value, res.name text FROM gaea_sys_authorities auth LEFT JOIN gaea_sys_authorities_resources auRes ON auth.id=auRes.authority_id LEFT JOIN gaea_sys_resources res ON auRes.resource_id=res.id]]>
        </data-sql>
        <where>
            <condition-set id="selectable">
                <and field="auth.id" field-op="ne"></and>
            </condition-set>
            <condition-set id="selected">
                <and field="auth.id" field-op="eq"></and>
            </condition-set>
        </where>
    </dataset>
    <!-- ++++++++++++++++++++++++++++++++++++  权限资源关系复选框  ++++++++++++++++++++++++++++++++++++ -->
    <dataset id="DS_MENU" cache-type="auto" expire-time="1ms|s|min|d">
        <data-sql>
            <![CDATA[SELECT id value,name text FROM gaea_sys_menus]]>
        </data-sql>
        <!--<where>-->
            <!--<condition-set id="byLevel">-->
                <!--<and field="(LEVEL-1)" field-op="eq"></and>-->
            <!--</condition-set>-->
        <!--</where>-->
    </dataset>
    <!--cache-type ：是否缓存结果集。有个配置项是none。但当下全部的缓存。估计静态的数据量不多。-->
    <dataset id="DS_IS_ENABLED" cache-type="static">
        <data>
            <data-element value="0" text="不启用" />
            <data-element value="1" text="启用" />
        </data>
    </dataset>
</dataset-definition>

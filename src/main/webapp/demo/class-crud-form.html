<div id="div-demo-class-mgr" class="gaea-form gaea-ui-page" data-gaea-data-bind-area="true">
    <div class="row">
        <div class="field-block">
            <span class="fieldname">班级名称</span>
            <span class="fieldvalue"><input id="className" name="classEntity.className" value=""
                                            data-msg-required="名称不能为空"
                                            required></span>
        </div>
        <div class="field-block">
            <span class="fieldname">第几届</span>
            <span class="fieldvalue"><input id="termYear" name="classEntity.termYear" value="" type="number" min="2015"
                                            max="2099"
                                            step="1" data-msg="输入要求是年份 2015~2099." required></span>
        </div>
        <div class="field-block">
            <span class="fieldname">年级</span>
            <span class="fieldvalue">
                <select id="currentYear" name="classEntity.currentYear" data-gaea-data="dataset:'DEMO_PRIMARY_GRADE'">
                </select>
            </span>
        </div>
    </div>
    <div class="row">
        <div class="field-block">
            <span class="fieldname">班级号</span>
            <span class="fieldvalue">
                <input id="classNo" name="classEntity.classNo" value="" type="number" min="1" max="99" step="1"
                       data-msg="输入要求是几班 1~99." data-msg-required="班级号不允许为空" required>
            </span>
        </div>
        <div class="field-block">
            <span class="fieldname">班角色</span>
            <span class="fieldvalue">
                <select id="classRolesList" name="classRolesList"
                        data-gaea-ui-select2="dataset:'DEMO_CLASS_ROLE',default:{ value:'2' }"
                        multiple="multiple" required></select>
            </span>
        </div>
        <div class="field-block">
            <span class="fieldname">随便测试测试数据集</span>
            <span class="fieldvalue">
                <select id="testAnyway" name="testAnyway"
                        data-gaea-data="dataset:'DS_DEMO_PRODUCT_CATEGORY'"></select>
            </span>
        </div>
    </div>
    <div class="row">
        <div class="field-block">
            <span class="fieldname">选择班级</span>
            <span class="fieldvalue">
                <input id="test" name="test" value="" type="hidden">
                <a id="btnNewDialog" class="medium darkslategrey button"
                   data-gaea-ui-button="newId:'classCrudDialog2', action:'new_dialog', openStyle:'inOne', submitAction:'writeback_by_field',
                   writeBack:{fromCtId: 'div-demo-class-mgr-2', fromFieldPrefix:'form2.', toCtId: 'div-demo-class-mgr'},
                   refInputId:'test', contentUrl:'/gaea/demo/class-crud-form-2' ">新增</a>
            </span>
        </div>
        <div class="field-block">
            <span class="fieldname">选择另一个班级</span>
            <span class="fieldvalue">
                <input id="testB" name="testB" value="" type="hidden">
                <a id="btnNewDialogB" class="medium darkslategrey button"
                   data-gaea-ui-button="newId:'classCrudDialog3', action:'new_dialog', openStyle:'inOne', submitAction:'writeback_in_one',refInputId:'testB', contentUrl:'/gaea/demo/class-crud-form-3' ">新增</a>
            </span>
        </div>
        <div class="field-block">
            <span class="fieldname">批量选择学生</span>
            <span class="fieldvalue">
                <!--<input id="gridSelectResult" name="gridSelectResult" value="" type="hidden">-->
                <a id="btnDataFilterDialog" class="medium darkslategrey button"
                   data-gaea-ui-button="newId:'dataFilterDialog', action:'data_filter_dialog', openStyle:'inOne', submitAction:'writeback_in_one', refInputId:'studentList', schemaId:'SCHEMA_DEMO_DATA_FILTER',
                   writeBack:{writeBackMode:'append'},
                    condition:{id:'filterDialogByName',values:[{ type:'static',value:'华' }] }">新增</a>
            </span>
        </div>
    </div>
    <!--<div class="row">-->
    <!--<div class="field-block">-->
    <!--<span class="fieldname">描述</span>-->
    <!--<span class="fieldvalue"><textarea id="description" name="description" value=""></textarea></span>-->
    <!--</div>-->
    <!--</div>-->
    <!-- ***********************************************  这个是可编辑从表  *********************************************** -->
    <div class="row">
        <div class="field-block">
            <!--<span class="fieldname">班级学生</span>-->
            <!-- TODO test。稍后得增加一种样式，适应这种新的grid的布局。-->
            <div class="">班级学生</div>
            <span class="">
                <div id="studentList" data-gaea-ui-name="students"
                     data-gaea-ui-crud-grid='columns:[
                     {name:"name",text:"姓名", editable:true,width:120,dataType:"string", primaryKey:"true"},
                     {name:"sex",text:"性别", width:80, dataSetId: "DEMO_STUDENT_SEX", default:{ value:"2" }},
                     {name:"stuNo",text:"学号", width:60, validator: { html: {type:"number","data-msg":"非空。输入要求是数值。",required:"required" } }
                     },
                     {name:"birthday",text:"生日", width:120,dataType:"date"},
                     {name:"strClassName",text:"所选班级(参考)", editable:false,width:120,value:"$pageContext[selectedRow][gaea-grid-ct][className]"}
                     ]'>
                </div>
            </span>
        </div>
    </div>
</div>